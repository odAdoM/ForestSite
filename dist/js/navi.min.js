import*as cc from"./add/console-colors.min.js";import*as helper from"./add/helper.min.js";import*as mnavi from"./mobi-navi.min.js";var scrollingTO,currentSelectedNavMenuItem,allHashSections,ROOT=document.querySelector(":root"),BODY=document.body,MENU_HEIGHT=105,MENU_HEIGHT_MOBILE=80,MENU_HEIGHT_MINI=65,actualMenuHeight=MENU_HEIGHT,HOME_HASH="#home",HOME="home",SCROLLING_BLOCKAGE_TIME=1500,logoHomeBtn=document.querySelector(".logo"),navMenuLinks_hashed=document.querySelectorAll('.nav-menu--desktop .nav-menu__item .nav-menu__link[href^="#"]'),navMenuLinks=document.querySelectorAll(".nav-menu--desktop .nav-menu__item .nav-menu__link"),homeNavMenuLink=document.querySelector(".nav-menu--desktop .nav-menu__item#homeItem .nav-menu__link"),contactNavMenuLink=document.querySelector(".nav-menu--desktop .nav-menu__item#contactItem .nav-menu__link"),offerNavMenuLink=document.querySelector(".nav-menu--desktop .nav-menu__item#offerItem .nav-menu__link"),isScrolling=!1,currentHash="",activeSection=null,fromTop=0,actualScrollY=0,hrefLink="",mediaQuery960=window.matchMedia("(min-width: 960px)");function settingsFromIndex(e){allHashSections=e;e=helper.checkActualHashLocation();null===e||e===HOME?selectThisLinkByItem(homeNavMenuLink):selectThisLinkByHref(e),logoHomeBtn.addEventListener("click",logoClickHandler),addToMenuItemsHoverTrees(),addListenersToNavMenuLinks(),window.addEventListener("scroll",updateActiveMenu),mediaQuery960.addEventListener("change",mobileViewChangeHandler),mobileViewChangeHandler(mediaQuery960)}function settingsFromContact(){selectThisLinkByItem(contactNavMenuLink),logoHomeBtn.addEventListener("click",logoClickHandlerWithoutScrollSpy),addToMenuItemsHoverTrees(),addListenersToNavMenuLinks(!0),mediaQuery960.addEventListener("change",mobileViewChangeHandler),mobileViewChangeHandler(mediaQuery960)}function settingsFromOffers(){selectThisLinkByItem(offerNavMenuLink),logoHomeBtn.addEventListener("click",logoClickHandlerWithoutScrollSpy),addToMenuItemsHoverTrees(),addListenersToNavMenuLinks(!0),mediaQuery960.addEventListener("change",mobileViewChangeHandler),mobileViewChangeHandler(mediaQuery960)}function updateActiveMenu(){actualScrollY=window.scrollY,setMenuHeight(),isScrolling||(mnavi.isMobileMenuOn(),fromTop=actualScrollY+actualMenuHeight,activeSection=null,currentHash=currentSelectedNavMenuItem.getAttribute("href").substring(1),allHashSections.forEach(function(e){e.offsetTop<=fromTop&&e.offsetTop+e.offsetHeight>fromTop&&(activeSection=e.id)}),activeSection!==currentHash&&selectThisLinkByHref(activeSection))}function setMenuHeight(){mnavi.isMobileMenuOn()||(actualMenuHeight=mnavi.isMobileOn()?MENU_HEIGHT_MOBILE:MENU_HEIGHT,ROOT.style.setProperty("--menu-height","".concat(actualMenuHeight,"px")))}var selectThisLinkByHref=function(n){navMenuLinks_hashed.forEach(function(e){(hrefLink=e.getAttribute("href").substring(1))===n&&selectThisLinkByItem(e)})},deselectNavMenu=function(){navMenuLinks_hashed.forEach(function(e){e.classList.remove("active")}),currentHash=currentSelectedNavMenuItem=""},selectThisLinkByItem=function(e){e&&(deselectNavMenu(),e.classList.add("active"),currentHash=(currentSelectedNavMenuItem=e).getAttribute("href").substring(1),null!=e.querySelector(".trees"))&&e.querySelector(".trees").classList.remove("over-state")},navLinkHandler=function(e){console.log("%c navi cliked",cc.colors.orange,"isScrolling: ",isScrolling,"scrollingTO: ",scrollingTO),clearTimeout(scrollingTO),isScrolling=!0,selectThisLinkByItem(e.target),setMenuHeight(e.target.getAttribute("href")===HOME_HASH),scrollingTO=setTimeout(function(){isScrolling=!1},SCROLLING_BLOCKAGE_TIME)},addListenersToNavMenuLinks=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]||navMenuLinks_hashed&&0<navMenuLinks_hashed.length&&navMenuLinks_hashed.forEach(function(e){e.addEventListener("click",navLinkHandler)}),navMenuLinks&&0<navMenuLinks.length&&navMenuLinks.forEach(function(e){e.addEventListener("mouseover",function(e){e.target.classList.contains("active")||e.target.querySelector(".trees").classList.add("over-state")}),e.addEventListener("mouseout",function(e){e.target.querySelector(".trees").classList.remove("over-state")})})},logoClickHandler=function(e){mnavi.isMobileMenuOn()?e.preventDefault():(clearTimeout(scrollingTO),isScrolling=!0,selectThisLinkByItem(homeNavMenuLink),setMenuHeight(!0),scrollingTO=setTimeout(function(){isScrolling=!1},SCROLLING_BLOCKAGE_TIME))},logoClickHandlerWithoutScrollSpy=function(e){mnavi.isMobileMenuOn()&&e.preventDefault()};function mobileViewChangeHandler(e){setMenuHeight()}var addToMenuItemsHoverTrees=function(){var e=document.querySelectorAll(".nav-menu--desktop > .nav-menu__item > .nav-menu__link"),n=document.querySelector("#template-home-trees"),t=n.content.cloneNode(!0);e[0].appendChild(t),t=(n=document.querySelector("#template-aboutus-trees")).content.cloneNode(!0),e[1].appendChild(t),t=(n=document.querySelector("#template-offer-trees")).content.cloneNode(!0),e[2].appendChild(t),t=(n=document.querySelector("#template-contact-trees")).content.cloneNode(!0),e[3].appendChild(t)};export{settingsFromIndex,settingsFromContact,settingsFromOffers};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmkuanMiXSwibmFtZXMiOlsiY2MiLCJoZWxwZXIiLCJtbmF2aSIsImFjdGl2ZVNlY3Rpb24iLCJmcm9tVG9wIiwibWVkaWFRdWVyeTk2MCIsIlJPT1QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJCT0RZIiwiYm9keSIsIk1FTlVfSEVJR0hUX01PQklMRSIsIk1FTlVfSEVJR0hUX01JTkkiLCJhY3R1YWxNZW51SGVpZ2h0IiwiTUVOVV9IRUlHSFQiLCJIT01FIiwiU0NST0xMSU5HX0JMT0NLQUdFX1RJTUUiLCJsb2dvSG9tZUJ0biIsImhvbWVOYXZNZW51TGluayIsImNvbnRhY3ROYXZNZW51TGluayIsIm9mZmVyTmF2TWVudUxpbmsiLCJpc1Njcm9sbGluZyIsInNjcm9sbGluZ1RPIiwiY3VycmVudEhhc2giLCJhY3R1YWxTY3JvbGxZIiwiaHJlZkxpbmsiLCJhbGxIYXNoU2VjdGlvbnMiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwiaGFzaCIsImNoZWNrQWN0dWFsSGFzaExvY2F0aW9uIiwiaGFzaHNlY3Rpb25zIiwiYWRkTGlzdGVuZXJzVG9OYXZNZW51TGlua3MiLCJzZWxlY3RUaGlzTGlua0J5SXRlbSIsInNlbGVjdFRoaXNMaW5rQnlIcmVmIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvZ29DbGlja0hhbmRsZXIiLCJtb2JpbGVWaWV3Q2hhbmdlSGFuZGxlciIsImFkZFRvTWVudUl0ZW1zSG92ZXJUcmVlcyIsInVwZGF0ZUFjdGl2ZU1lbnUiLCJzZXR0aW5nc0Zyb21Db250YWN0IiwibG9nb0NsaWNrSGFuZGxlcldpdGhvdXRTY3JvbGxTcHkiLCJzZXR0aW5nc0Zyb21PZmZlcnMiLCJzY3JvbGxZIiwic2V0TWVudUhlaWdodCIsImlzTW9iaWxlTWVudU9uIiwic2VjdGlvbiIsImN1cnJlbnRTZWxlY3RlZE5hdk1lbnVJdGVtIiwiZ2V0QXR0cmlidXRlIiwic3Vic3RyaW5nIiwiZm9yRWFjaCIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsImlkIiwiaXNIb21lIiwiaXNIb21lRk9SQ0UiLCJpc01vYmlsZU9uIiwiaHJlZk5hbWUiLCJzdHlsZSIsImNvbmNhdCIsIm5hdk1lbnVMaW5rc19oYXNoZWQiLCJsaW5rIiwiY2xhc3NMaXN0IiwibmF2TGlua0hhbmRsZXIiLCJjb25zb2xlIiwiY2xlYXJUaW1lb3V0IiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsIm9ubHlIb3ZlcnMiLCJhcmd1bWVudHMiLCJjb2xvcnMiLCJvcmFuZ2UiLCJlIiwidGFyZ2V0IiwiSE9NRV9IQVNIIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibmF2TWVudUxpbmtzIiwicHJldmVudERlZmF1bHQiLCJjb250YWlucyIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsInRlbXBsYXRlIiwibmV3SXRlbSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJhcHBlbmRDaGlsZCJdLCJtYXBwaW5ncyI6Ik1BRVlBLFdBQVEsb0NBQ1JDLGVBQVksNEJBQ1pDLGNBQVcscUJBSXZCLElBNEJJQyxZQUNBQywyQkFNRUMsZ0JBbkNBQyxLQUFPQyxTQUFTQyxjQUFjLE9BQVEsRUFDdENDLEtBQU9GLFNBQVNHLEtBR2hCQyxZQUFBQSxJQUNBQyxtQkFBcUIsR0FDdkJDLGlCQUFtQkMsR0FDdkJELGlCQUFBQyxZQUdNQyxVQUFhLFFBQ2JDLEtBQUFBLE9BRUFDLHdCQUF1QlQsS0FFN0JTLFlBQUFWLFNBQUFDLGNBQUEsT0FBQSxFQUtNVSxvQkFBa0JYLFNBQVNDLGlCQUFjLCtEQUE4RCxFQUN2R1csYUFBQUEsU0FBcUJaLGlCQUFzQixvREFBQyxFQUM1Q2EsZ0JBQW1CYixTQUFTQyxjQUFjLDZEQUE4RCxFQUUxR2EsbUJBQW1CZCxTQUFBQyxjQUFBLGdFQUFBLEVBQ25CYyxpQkFBV2YsU0FBQUMsY0FBQSw4REFBQSxFQUVYZSxZQUFjLENBQUEsRUFHZEMsWUFBYSxHQUNiQyxjQUFhLEtBQ2JDLFFBQUFBLEVBRkFGLGNBQWdCLEVBSXBCQyxTQUFBLEdBSUFwQixjQUFBc0IsT0FBQUMsV0FB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WUFBWUgsQ0FBTyxFQUc1QkEsR0FEQUQsRUFBVzVFLFNBQVNDLGNBQWMseUJBQXlCLEdBQ3hDNkUsUUFBUUMsVUFBVSxDQUFBLENBQUksRUFDekNMLEVBQU0sR0FBR00sWUFBWUgsQ0FBTyxFQUc1QkEsR0FEQUQsRUFBVzVFLFNBQVNDLGNBQWMsdUJBQXVCLEdBQ3RDNkUsUUFBUUMsVUFBVSxDQUFBLENBQUksRUFDekNMLEVBQU0sR0FBR00sWUFBWUgsQ0FBTyxFQUc1QkEsR0FEQUQsRUFBVzVFLFNBQVNDLGNBQWMseUJBQXlCLEdBQ3hDNkUsUUFBUUMsVUFBVSxDQUFBLENBQUksRUFDekNMLEVBQU0sR0FBR00sWUFBWUgsQ0FBTyxDQUM3QixTQS9PWW5GLGtCQXNCWCtCLG9CQVlBVSxrQkE2TUEiLCJmaWxlIjoibmF2aS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgKiBhcyBjYyBmcm9tICcuL2FkZC9jb25zb2xlLWNvbG9ycy5taW4uanMnO1xyXG5pbXBvcnQgKiBhcyBoZWxwZXIgZnJvbSAnLi9hZGQvaGVscGVyLm1pbi5qcyc7XHJcbmltcG9ydCAqIGFzIG1uYXZpIGZyb20gJy4vbW9iaS1uYXZpLm1pbi5qcyc7XHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT08IE1FTlUmTkFWID49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgUk9PVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJzpyb290Jyk7XHJcbmNvbnN0IEJPRFkgPSBkb2N1bWVudC5ib2R5O1xyXG5cclxuY29uc3QgTUVOVV9IRUlHSFQgPSAxMDU7XHJcbmNvbnN0IE1FTlVfSEVJR0hUX01PQklMRSA9IDgwO1xyXG5jb25zdCBNRU5VX0hFSUdIVF9NSU5JID0gNjU7XHJcbmxldCBhY3R1YWxNZW51SGVpZ2h0ID0gTUVOVV9IRUlHSFQ7XHJcbi8vUk9PVC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1tZW51LWhlaWdodCcsIGAke2FjdHVhbE1lbnVIZWlnaHR9cHhgKTtcclxuXHJcbmNvbnN0IEhPTUVfSEFTSCA9ICcjaG9tZSc7XHJcbmNvbnN0IEhPTUUgPSAnaG9tZSc7XHJcbmNvbnN0IFNDUk9MTElOR19CTE9DS0FHRV9USU1FID0gMTUwMDtcclxuXHJcbmNvbnN0IGxvZ29Ib21lQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ28nKTtcclxuLy9jb25zdCBsb2dvSG9tZUJ0bl9fcCA9IGxvZ29Ib21lQnRuLnF1ZXJ5U2VsZWN0b3IoJ3AnKTtcclxuLy9jb25zdCBsb2dvSG9tZUJ0bl9faW1nID0gbG9nb0hvbWVCdG4ucXVlcnlTZWxlY3RvcignaW1nJyk7XHJcbi8vY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpO1xyXG5cclxuY29uc3QgbmF2TWVudUxpbmtzX2hhc2hlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtbWVudS0tZGVza3RvcCAubmF2LW1lbnVfX2l0ZW0gLm5hdi1tZW51X19saW5rW2hyZWZePVwiI1wiXScpO1xyXG5jb25zdCBuYXZNZW51TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LW1lbnUtLWRlc2t0b3AgLm5hdi1tZW51X19pdGVtIC5uYXYtbWVudV9fbGluaycpO1xyXG5jb25zdCBob21lTmF2TWVudUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LW1lbnUtLWRlc2t0b3AgLm5hdi1tZW51X19pdGVtI2hvbWVJdGVtIC5uYXYtbWVudV9fbGluaycpO1xyXG5jb25zdCBjb250YWN0TmF2TWVudUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LW1lbnUtLWRlc2t0b3AgLm5hdi1tZW51X19pdGVtI2NvbnRhY3RJdGVtIC5uYXYtbWVudV9fbGluaycpO1xyXG5jb25zdCBvZmZlck5hdk1lbnVMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1tZW51LS1kZXNrdG9wIC5uYXYtbWVudV9faXRlbSNvZmZlckl0ZW0gLm5hdi1tZW51X19saW5rJyk7XHJcblxyXG5sZXQgaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxubGV0IHNjcm9sbGluZ1RPO1xyXG5sZXQgY3VycmVudFNlbGVjdGVkTmF2TWVudUl0ZW07XHJcbmxldCBjdXJyZW50SGFzaCA9ICcnO1xyXG5sZXQgYWN0aXZlU2VjdGlvbiA9IG51bGw7XHJcbmxldCBmcm9tVG9wID0gMDtcclxubGV0IGFjdHVhbFNjcm9sbFkgPSAwO1xyXG5sZXQgaHJlZkxpbmsgPSAnJztcclxubGV0IGFsbEhhc2hTZWN0aW9ucztcclxuXHJcbi8vLVxyXG5jb25zdCBtZWRpYVF1ZXJ5OTYwID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDk2MHB4KScpO1xyXG4vLy1cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0dGluZ3NGcm9tSW5kZXgoaGFzaHNlY3Rpb25zKSB7XHJcblx0Ly8vKlxyXG5cdGFsbEhhc2hTZWN0aW9ucyA9IGhhc2hzZWN0aW9ucztcclxuXHRsZXQgaGFzaCA9IGhlbHBlci5jaGVja0FjdHVhbEhhc2hMb2NhdGlvbigpO1xyXG5cdC8vY29uc29sZS5sb2coJyVjQEBAIHNldHRpbmdzRnJvbUluZGV4JywgY2MuY29sb3JzLnJlZCk7XHJcblx0Ly9jb25zb2xlLmxvZygnJWNsb2NhdGlvbjogJyArIHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgJyAlYyBoYXNoOiAnICsgaGFzaCwgY2MuYmdjLmdyZWVuLCBjYy5iZ2MucHVycGxlKTtcclxuXHJcblx0aWYgKGhhc2ggPT09IG51bGwgfHwgaGFzaCA9PT0gSE9NRSkgc2VsZWN0VGhpc0xpbmtCeUl0ZW0oaG9tZU5hdk1lbnVMaW5rKTtcclxuXHRlbHNlIHNlbGVjdFRoaXNMaW5rQnlIcmVmKGhhc2gpO1xyXG5cclxuXHRsb2dvSG9tZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxvZ29DbGlja0hhbmRsZXIpO1xyXG5cdGFkZFRvTWVudUl0ZW1zSG92ZXJUcmVlcygpO1xyXG5cdGFkZExpc3RlbmVyc1RvTmF2TWVudUxpbmtzKCk7XHJcblx0Ly8gYWRkVHJhbnNpdGlvblRvTWVudUJhcigpO1xyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGVBY3RpdmVNZW51KTtcclxuXHRtZWRpYVF1ZXJ5OTYwLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG1vYmlsZVZpZXdDaGFuZ2VIYW5kbGVyKTtcclxuXHRtb2JpbGVWaWV3Q2hhbmdlSGFuZGxlcihtZWRpYVF1ZXJ5OTYwKTtcclxuXHJcblx0Ly8gKi9cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc2V0dGluZ3NGcm9tQ29udGFjdCgpIHtcclxuXHQvLyBjb25zb2xlLmxvZygnJWNAQEAgc2V0dGluZ3NGcm9tQ29udGFjdCcsIGNjLmNvbG9ycy5ncmVlbik7XHJcblx0c2VsZWN0VGhpc0xpbmtCeUl0ZW0oY29udGFjdE5hdk1lbnVMaW5rKTtcclxuXHRsb2dvSG9tZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxvZ29DbGlja0hhbmRsZXJXaXRob3V0U2Nyb2xsU3B5KTtcclxuXHRhZGRUb01lbnVJdGVtc0hvdmVyVHJlZXMoKTtcclxuXHRhZGRMaXN0ZW5lcnNUb05hdk1lbnVMaW5rcyh0cnVlKTtcclxuXHQvLyBhZGRUcmFuc2l0aW9uVG9NZW51QmFyKCk7XHJcblx0bWVkaWFRdWVyeTk2MC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBtb2JpbGVWaWV3Q2hhbmdlSGFuZGxlcik7XHJcblx0bW9iaWxlVmlld0NoYW5nZUhhbmRsZXIobWVkaWFRdWVyeTk2MCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXR0aW5nc0Zyb21PZmZlcnMoKSB7XHJcblx0Ly8gY29uc29sZS5sb2coJyVjQEBAIHNldHRpbmdzRnJvbU9mZmVycycsIGNjLmNvbG9ycy50ZWFsKTtcclxuXHRzZWxlY3RUaGlzTGlua0J5SXRlbShvZmZlck5hdk1lbnVMaW5rKTtcclxuXHRsb2dvSG9tZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxvZ29DbGlja0hhbmRsZXJXaXRob3V0U2Nyb2xsU3B5KTtcclxuXHRhZGRUb01lbnVJdGVtc0hvdmVyVHJlZXMoKTtcclxuXHRhZGRMaXN0ZW5lcnNUb05hdk1lbnVMaW5rcyh0cnVlKTtcclxuXHQvLyBhZGRUcmFuc2l0aW9uVG9NZW51QmFyKCk7XHJcblx0bWVkaWFRdWVyeTk2MC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBtb2JpbGVWaWV3Q2hhbmdlSGFuZGxlcik7XHJcblx0bW9iaWxlVmlld0NoYW5nZUhhbmRsZXIobWVkaWFRdWVyeTk2MCk7XHJcbn1cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVBY3RpdmVNZW51KCkge1xyXG5cdGFjdHVhbFNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHRzZXRNZW51SGVpZ2h0KCk7XHJcblx0aWYgKGlzU2Nyb2xsaW5nKSByZXR1cm47XHJcblxyXG5cdGlmICghbW5hdmkuaXNNb2JpbGVNZW51T24oKSk7XHJcblx0e1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnJWNpbnNpZGUgdXBkYXRlIG1lbnUnLCBjYy5iZ2MuYmx1ZSk7XHJcblx0XHRmcm9tVG9wID0gYWN0dWFsU2Nyb2xsWSArIGFjdHVhbE1lbnVIZWlnaHQ7XHJcblx0XHRhY3RpdmVTZWN0aW9uID0gbnVsbDtcclxuXHRcdGN1cnJlbnRIYXNoID0gY3VycmVudFNlbGVjdGVkTmF2TWVudUl0ZW0uZ2V0QXR0cmlidXRlKCdocmVmJykuc3Vic3RyaW5nKDEpO1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnY3VyZW50SGFzaCcsIGN1cnJlbnRIYXNoLCBjdXJyZW50U2VsZWN0ZWROYXZNZW51SXRlbSk7XHJcblxyXG5cdFx0YWxsSGFzaFNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuXHRcdFx0aWYgKHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGZyb21Ub3AgJiYgc2VjdGlvbi5vZmZzZXRUb3AgKyBzZWN0aW9uLm9mZnNldEhlaWdodCA+IGZyb21Ub3ApIHtcclxuXHRcdFx0XHRhY3RpdmVTZWN0aW9uID0gc2VjdGlvbi5pZDtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCclY2FjdGl2ZSBzZWN0aW9uOiAnICsgYWN0aXZlU2VjdGlvbiwgY2MuYmdjLnllbGxvdyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChhY3RpdmVTZWN0aW9uICE9PSBjdXJyZW50SGFzaCkge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCclYyA+PiAnLCBjYy5iZ2MuZ3JlZW4sIGFjdGl2ZVNlY3Rpb24pO1xyXG5cdFx0XHRzZWxlY3RUaGlzTGlua0J5SHJlZihhY3RpdmVTZWN0aW9uKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldE1lbnVIZWlnaHQoaXNIb21lRk9SQ0UgPSBmYWxzZSkge1xyXG5cdGxldCBpc0hvbWUgPSBpc0hvbWVGT1JDRSA/IHRydWUgOiBjdXJyZW50SGFzaCA9PT0gSE9NRSA/IHRydWUgOiBmYWxzZTtcclxuXHRsZXQgdHJlZXNTaXplO1xyXG5cdC8vY29uc29sZS5sb2coYCVjaXNIb21lPyAke2lzSG9tZX1gLCBjYy5iZ2MucmVkLCAnY3VycmVudEhhc2g6ICcsIGN1cnJlbnRIYXNoKTtcclxuXHJcblx0aWYgKCFtbmF2aS5pc01vYmlsZU1lbnVPbigpKSB7XHJcblx0XHQvLyB0aGlzIHBhcnQgbWFrZXMgdGhlIG1lbnUgaGVpZ2h0IGV2ZW4gc21hbGxlcjsgaXQncyBnb29kIGZvciBsb25nIHNpdGVzLCBidXQgaGVyZSBpdCBtYWtlcyB0b28gbXVjaCBtZXNzXHJcblx0XHQvLyBpZiBpdCdzIG9uIC0+IGFkZCB0cmFuc2l0aW9uIGNsYXNzIChhZGRUcmFuc2l0aW9uVG9NZW51QmFyKSB0byBtZW51IGJhclxyXG5cdFx0LyogaWYgKHdpbmRvdy5zY3JvbGxZID4gYWN0dWFsTWVudUhlaWdodCArIDgwMCAmJiAhaXNIb21lKSB7XHJcblx0XHRcdGFjdHVhbE1lbnVIZWlnaHQgPSBNRU5VX0hFSUdIVF9NSU5JO1xyXG5cdFx0XHR0cmVlc1NpemUgPSAzO1xyXG5cdFx0fSBlbHNlIHsgKi9cclxuXHRcdGFjdHVhbE1lbnVIZWlnaHQgPSBtbmF2aS5pc01vYmlsZU9uKCkgPyBNRU5VX0hFSUdIVF9NT0JJTEUgOiBNRU5VX0hFSUdIVDtcclxuXHRcdC8vdHJlZXNTaXplID0gNDtcclxuXHRcdC8vfVxyXG5cclxuXHRcdFJPT1Quc3R5bGUuc2V0UHJvcGVydHkoJy0tbWVudS1oZWlnaHQnLCBgJHthY3R1YWxNZW51SGVpZ2h0fXB4YCk7XHJcblx0XHQvL1JPT1Quc3R5bGUuc2V0UHJvcGVydHkoJy0tc2l6ZScsIGAke3RyZWVzU2l6ZX1weGApO1xyXG5cdH1cclxufVxyXG5cclxuY29uc3Qgc2VsZWN0VGhpc0xpbmtCeUhyZWYgPSAoaHJlZk5hbWUpID0+IHtcclxuXHQvL2NvbnNvbGUubG9nKCdzZWxlY3QgbGluayBieSBocmVmOiAnLCBocmVmTmFtZSk7XHJcblx0bmF2TWVudUxpbmtzX2hhc2hlZC5mb3JFYWNoKChsaW5rKSA9PiB7XHJcblx0XHRocmVmTGluayA9IGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykuc3Vic3RyaW5nKDEpO1xyXG5cclxuXHRcdGlmIChocmVmTGluayA9PT0gaHJlZk5hbWUpIHtcclxuXHRcdFx0c2VsZWN0VGhpc0xpbmtCeUl0ZW0obGluayk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGRlc2VsZWN0TmF2TWVudSA9ICgpID0+IHtcclxuXHRuYXZNZW51TGlua3NfaGFzaGVkLmZvckVhY2goKGxpbmspID0+IHtcclxuXHRcdGxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0fSk7XHJcblx0Y3VycmVudFNlbGVjdGVkTmF2TWVudUl0ZW0gPSAnJztcclxuXHRjdXJyZW50SGFzaCA9ICcnO1xyXG59O1xyXG5cclxuY29uc3Qgc2VsZWN0VGhpc0xpbmtCeUl0ZW0gPSAobGluaykgPT4ge1xyXG5cdGlmIChsaW5rKSB7XHJcblx0XHRkZXNlbGVjdE5hdk1lbnUoKTtcclxuXHJcblx0XHRsaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0Y3VycmVudFNlbGVjdGVkTmF2TWVudUl0ZW0gPSBsaW5rO1xyXG5cdFx0Y3VycmVudEhhc2ggPSBjdXJyZW50U2VsZWN0ZWROYXZNZW51SXRlbS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zdWJzdHJpbmcoMSk7XHJcblxyXG5cdFx0Y29uc3QgdCA9IGxpbmsucXVlcnlTZWxlY3RvcignLnRyZWVzJyk7XHJcblx0XHRpZiAodCAhPSBudWxsKSB7XHJcblx0XHRcdGxpbmsucXVlcnlTZWxlY3RvcignLnRyZWVzJykuY2xhc3NMaXN0LnJlbW92ZSgnb3Zlci1zdGF0ZScpO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IG5hdkxpbmtIYW5kbGVyID0gKGUpID0+IHtcclxuXHRjb25zb2xlLmxvZygnJWMgbmF2aSBjbGlrZWQnLCBjYy5jb2xvcnMub3JhbmdlLCAnaXNTY3JvbGxpbmc6ICcsIGlzU2Nyb2xsaW5nLCAnc2Nyb2xsaW5nVE86ICcsIHNjcm9sbGluZ1RPKTtcclxuXHRjbGVhclRpbWVvdXQoc2Nyb2xsaW5nVE8pO1xyXG5cdGlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuXHJcblx0Ly8tXHJcblx0c2VsZWN0VGhpc0xpbmtCeUl0ZW0oZS50YXJnZXQpO1xyXG5cdHNldE1lbnVIZWlnaHQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJykgPT09IEhPTUVfSEFTSCk7XHJcblx0Ly8tXHJcblxyXG5cdHNjcm9sbGluZ1RPID0gc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRpc1Njcm9sbGluZyA9IGZhbHNlO1xyXG5cdH0sIFNDUk9MTElOR19CTE9DS0FHRV9USU1FKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZExpc3RlbmVyc1RvTmF2TWVudUxpbmtzID0gKG9ubHlIb3ZlcnMgPSBmYWxzZSkgPT4ge1xyXG5cdGlmICghb25seUhvdmVycykge1xyXG5cdFx0aWYgKG5hdk1lbnVMaW5rc19oYXNoZWQgJiYgbmF2TWVudUxpbmtzX2hhc2hlZC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdG5hdk1lbnVMaW5rc19oYXNoZWQuZm9yRWFjaCgobGluaykgPT4ge1xyXG5cdFx0XHRcdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBuYXZMaW5rSGFuZGxlcik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKG5hdk1lbnVMaW5rcyAmJiBuYXZNZW51TGlua3MubGVuZ3RoID4gMCkge1xyXG5cdFx0bmF2TWVudUxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcclxuXHRcdFx0bGluay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZSkgPT4ge1xyXG5cdFx0XHRcdGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0ZS50YXJnZXQucXVlcnlTZWxlY3RvcignLnRyZWVzJykuY2xhc3NMaXN0LmFkZCgnb3Zlci1zdGF0ZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoZSkgPT4ge1xyXG5cdFx0XHRcdGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy50cmVlcycpLmNsYXNzTGlzdC5yZW1vdmUoJ292ZXItc3RhdGUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBsb2dvQ2xpY2tIYW5kbGVyID0gKGUpID0+IHtcclxuXHQvL2NvbnNvbGUubG9nKCdsb2dvIGNsaWNrIGhhbmRsZXInLCBkb2N1bWVudC5ib2R5LmlkKTtcclxuXHRpZiAobW5hdmkuaXNNb2JpbGVNZW51T24oKSkge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnJWNuYXZpIG1vYmlsZSBvbiEnLCBjYy5iZ2MucmVkKTtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnbG9nbyBjbGlja2VkLicpO1xyXG5cdFx0Y2xlYXJUaW1lb3V0KHNjcm9sbGluZ1RPKTtcclxuXHRcdGlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuXHJcblx0XHQvLy1cclxuXHRcdHNlbGVjdFRoaXNMaW5rQnlJdGVtKGhvbWVOYXZNZW51TGluayk7XHJcblx0XHRzZXRNZW51SGVpZ2h0KHRydWUpO1xyXG5cdFx0Ly8tXHJcblxyXG5cdFx0c2Nyb2xsaW5nVE8gPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0aXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuXHRcdH0sIFNDUk9MTElOR19CTE9DS0FHRV9USU1FKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBsb2dvQ2xpY2tIYW5kbGVyV2l0aG91dFNjcm9sbFNweSA9IChlKSA9PiB7XHJcblx0Ly9jb25zb2xlLmxvZygnbG9nbyBjbGljayBoYW5kbGVyJywgZG9jdW1lbnQuYm9keS5pZCk7XHJcblx0aWYgKG1uYXZpLmlzTW9iaWxlTWVudU9uKCkpIHtcclxuXHRcdC8vY29uc29sZS5sb2coJyVjbmF2aSBtb2JpbGUgb24hJywgY2MuYmdjLnJlZCk7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0fVxyXG59O1xyXG5cclxuZnVuY3Rpb24gbW9iaWxlVmlld0NoYW5nZUhhbmRsZXIoZSkge1xyXG5cdC8qIGxldCBpc01vYmlsZVZpZXcgPSAhZS5tYXRjaGVzO1xyXG5cdC8vY29uc29sZS5sb2coJyVjIGlzbW9iaWxlPyAnICsgaXNNb2JpbGVWaWV3LCBjYy5iZ2Mub3JhbmdlKTtcclxuXHJcblx0aWYgKGlzTW9iaWxlVmlldykge1xyXG5cdFx0cmVtb3ZlVHJhbnNpdGlvblRvTWVudUJhcigpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRhZGRUcmFuc2l0aW9uVG9NZW51QmFyKCk7XHJcblx0fSAqL1xyXG5cclxuXHRzZXRNZW51SGVpZ2h0KCk7XHJcbn1cclxuXHJcbi8qIFxyXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uVG9NZW51QmFyKCkge1xyXG5cdGxvZ29Ib21lQnRuX19wLmNsYXNzTGlzdC5hZGQoJ2FuaW0nKTtcclxuXHRsb2dvSG9tZUJ0bl9faW1nLmNsYXNzTGlzdC5hZGQoJ2FuaW0nKTtcclxuXHRoZWFkZXIuY2xhc3NMaXN0LmFkZCgnYW5pbScpO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25Ub01lbnVCYXIoKSB7XHJcblx0bG9nb0hvbWVCdG5fX3AuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbScpO1xyXG5cdGxvZ29Ib21lQnRuX19pbWcuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbScpO1xyXG5cdGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdhbmltJyk7XHJcbn0gXHJcbiovXHJcblxyXG4vLyYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJnwgVFJFRVMgfCYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmXHJcblxyXG5jb25zdCBhZGRUb01lbnVJdGVtc0hvdmVyVHJlZXMgPSAoKSA9PiB7XHJcblx0Y29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LW1lbnUtLWRlc2t0b3AgPiAubmF2LW1lbnVfX2l0ZW0gPiAubmF2LW1lbnVfX2xpbmsnKTtcclxuXHRsZXQgdGVtcGxhdGU7XHJcblx0bGV0IG5ld0l0ZW07XHJcblxyXG5cdHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RlbXBsYXRlLWhvbWUtdHJlZXMnKTtcclxuXHRuZXdJdGVtID0gdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XHJcblx0bGlua3NbMF0uYXBwZW5kQ2hpbGQobmV3SXRlbSk7XHJcblxyXG5cdHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RlbXBsYXRlLWFib3V0dXMtdHJlZXMnKTtcclxuXHRuZXdJdGVtID0gdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XHJcblx0bGlua3NbMV0uYXBwZW5kQ2hpbGQobmV3SXRlbSk7XHJcblxyXG5cdHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RlbXBsYXRlLW9mZmVyLXRyZWVzJyk7XHJcblx0bmV3SXRlbSA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xyXG5cdGxpbmtzWzJdLmFwcGVuZENoaWxkKG5ld0l0ZW0pO1xyXG5cclxuXHR0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZW1wbGF0ZS1jb250YWN0LXRyZWVzJyk7XHJcblx0bmV3SXRlbSA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xyXG5cdGxpbmtzWzNdLmFwcGVuZENoaWxkKG5ld0l0ZW0pO1xyXG59O1xyXG4vLyYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmfCAvVFJFRVMgfCYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmXHJcbiJdfQ==
